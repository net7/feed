angular.module("KorboEE",["ui.bootstrap","ngResource","Confirm_module","APIModule","templates-main","CustomFilterModule","pascalprecht.translate"]).config(["$translateProvider",function(a){a.translations("en",en_lang).translations("it",it_lang).fallbackLanguage("en")}]),angular.module("KorboEE").controller("EEDirectiveCtrl",["$scope","$modal","APIService","korboConf","EntityResource","$timeout","$compile","$element",function(a,b,c,d,e,f,g,h){a.name="Directive control",a.noResults=!1;var i;a.readyToRender=!1,a.renderElement=function(){return a.readyToRender},a.openModalElement=function(){if(a.conf.useAutocompleteWithSearch)a.open();else if(a.conf.useAutocompleteWithNew){var b={label:a.elemToSearch};a.elemToSearch="",a.open("new",b)}},a.getButtonSelected=function(b){a.typeaheadResultScope=angular.element(h).find("ul.dropdown-menu li").scope(),a.typeaheadResultScope.selectActive(-1),b?angular.element(h).find("ul.dropdown-menu li.ee-typeahead-add-new").addClass("active"):angular.element(h).find("ul.dropdown-menu li.ee-typeahead-add-new").removeClass("active")};var j=function(){angular.element(h).find("ul.dropdown-menu li:last").hasClass("ee-typeahead-add-new")||(angular.element(h).find("ul.dropdown-menu").append('<li class="divider"></li><li class="ee-typeahead-add-new mouse-pointer" ng-click="openModalElement()" ng-mouseover="getButtonSelected(true)" ng-mouseout="getButtonSelected(false)"><a><i class="{{glyphiconClass}}" ></i> "{{elemToSearch}}" {{buttonText}}</a></li>'),g(angular.element(h).find("ul.dropdown-menu li.ee-typeahead-add-new"))(a))};a.$watch("conf",function(){a.errorGlobalObjName||(a.init=function(){a.readyToRender=a.conf.updateTime,m(),l(),n(),a.$evalAsync(function(){k()})}())});var k=function(){null!==a.conf.onReady&&"function"==typeof a.conf.onReady&&a.conf.onReady()},l=function(){a.conf.useAutocompleteWithSearch?(a.buttonText="SEARCH IN OTHER PROVIDERS",a.glyphiconClass="glyphicon glyphicon-search"):a.conf.useAutocompleteWithNew&&(a.glyphiconClass="glyphicon glyphicon-plus",a.buttonText="CREATE NEW")},m=function(){a.defaultLan=a.conf.languages[0];for(var b in a.conf.languages)if(a.conf.languages[b].state===!0){a.defaultLan=a.conf.languages[b];break}var c=a.defaultLan.value,d=function(a,b){var d=b();return d["Accept-Language"]=c,JSON.stringify(a)},f=e(a.conf,a.conf.basketID,"",d);a.entities=[],a.autoCompleteSearch=function(b){return a.conf.useAutocompleteWithSearch||a.conf.useAutocompleteWithNew?f.query({q:b,p:"korbo",lang:a.defaultLan.value,limit:10,offset:0}).$promise.then(function(c){if("0"===c.metadata.totalCount){var d={label:"no entity found",noFound:!0,stringNotFound:b};return a.entities=[],a.entities.push(d),angular.element(h).find("ul.dropdown-menu").removeClass("mouse-pointer"),a.noResults=!0,j(),a.entities}return a.entities=c.data,angular.element(h).find("ul.dropdown-menu").addClass("mouse-pointer"),a.noResults=!1,j(),a.entities}):a.entities}},n=function(){i=c.get(a.conf.globalObjectName),"undefined"!=typeof i&&(i.exposeOpenSearch(function(b){d.getIsOpenModal()===!1&&(""===b||"undefined"==typeof b?(a.open(),a.$digest()):(a.elemToSearch=b,a.open()))}),i.exposeOpenNew(function(b){d.getIsOpenModal()===!1&&("undefined"==typeof b||""===b?a.open("new"):a.open("new",b))}),i.exposeEdit(function(b){if(d.getIsOpenModal()===!1)if("undefined"==typeof b||""===b);else{var c={};a.defaultLan=a.conf.languages[0];for(var f in a.conf.languages)if(a.conf.languages[f].state===!0){a.defaultLan=a.conf.languages[f];break}var g=a.defaultLan.value,h=function(a,b){var c=b();return c["Accept-Language"]=g,JSON.stringify(a)},i=e(a.conf,a.conf.basketID,"",h);i.get({id:b,p:"korbo",basketID:"null"},function(d){""===d.label?(g=d.available_languages[0],i.get({id:b,p:"korbo",basketID:"null"},function(b){c=b,a.open("edit",c)},function(){})):(c=d,a.open("edit",c))},function(){})}}))};a.showButton=function(){return!(a.conf.useAutocompleteWithSearch||a.conf.useAutocompleteWithNew)},a.showLoadingResults=function(){if(a.noResults){var b=angular.element(h).find("ul.dropdown-menu li").scope();b.selectActive(-1),angular.element(h).find("ul.dropdown-menu li:first").addClass("disabled")}return a.loadingResults&&(a.conf.useAutocompleteWithSearch||a.conf.useAutocompleteWithNew)&&""!==a.elemToSearch},a.keyPressHandle=function(b){13===b.keyCode&&(a.conf.useAutocompleteWithSearch||a.conf.useAutocompleteWithNew)===!1?(b.stopPropagation(),b.preventDefault(),a.open()):13===b.keyCode&&(a.conf.useAutocompleteWithSearch||a.conf.useAutocompleteWithNew)&&(b.stopPropagation(),b.preventDefault())},a.selectEntity=function(b){if(b.noFound===!0)a.elemToSearch=b.stringNotFound;else{a.location=b.uri,a.label=b.label;var c={};c.value=a.location,c.label=b.label,c.type=b.type,c.image=b.depiction,c.description=b.abstract,c.language=a.defaultLan.value,i.fireOnSave(c)}},a.open=function(c,e){"undefined"!=typeof i&&i.fireOnOpen();var f=b.open({backdrop:"static",keyboard:!1,templateUrl:"src/ee-modal/modal.tmpl.html",controller:"modalCtrl",resolve:{DirectiveScope:function(){return a},TabToOpen:function(){return c},ObjectToSave:function(){return e}}});return d.setUILanguage("en"),d.setIsOpenModal(!0),f}}]),angular.module("KorboEE").controller("modalCtrl",["$scope","$rootScope","korboConf","EntityResource","ConfirmDialog","DirectiveScope","$modalInstance","APIService","TabToOpen","ObjectToSave","$window","$translate",function(a,b,c,d,e,f,g,h,i,j,k,l){a.name="Modal control",a.conf=f.conf,a.elemToSearch=f.elemToSearch,a.numSuccessWaiting=0;var m=h.get(a.conf.globalObjectName);a.tabToSelect="undefined"==typeof i?"search":i,a.getTypeLabelFromUrl=function(a){var b=a.split("/"),c=new RegExp("(freebase)(\\.(com))?"),d=b[b.length-1];if(d=d[0].toUpperCase()+d.slice(1),d=d.replace("_"," "),c.test(a)){var e=" / ",f=b[b.length-2];return f=f[0].toUpperCase()+f.slice(1),f=f.replace("_"," "),f+e+d}return d},"new"===i&&"undefined"!=typeof j?(a.isCopySelected=!0,a.itemToCopy={},"undefined"!=typeof j.value&&(a.itemToCopy.value=j.value),"undefined"!=typeof j.label&&(a.itemToCopy.label=j.label),"undefined"!=typeof j.type&&(a.itemToCopy.type=angular.copy(j.type)),"undefined"!=typeof j.image&&(a.itemToCopy.depiction=j.image),"undefined"!=typeof j.description&&(a.itemToCopy.abstract=j.description),"undefined"!=typeof j.language&&(a.itemToCopy.language_code=j.language)):"edit"===i&&"undefined"!=typeof j&&(a.isEditSelected=!0,a.itemToEdit=j),a.defaultLan=a.conf.languages[0];for(var n in a.conf.languages)if(a.conf.languages[n].state===!0){a.defaultLan=a.conf.languages[n];break}"undefined"!=typeof a.elemToSearch&&a.elemToSearch.length>=a.conf.labelMinLength&&(a.modalJustOpened=!0),a.setCurrentTab=function(b){a.selectedTab=b,a.showItemError=!1,a.EEnewEntityForm.submitted=!1},a.$watch("selectedTab",function(){var b=k.document.querySelector(".modal-dialog");a.selectedTab=a.selectedTab,"search"===a.selectedTab?(angular.element(b).removeClass("ee-modal-small"),angular.element(b).addClass("ee-modal-large")):("new"===a.selectedTab||"edit"===a.selectedTab)&&(angular.element(b).removeClass("ee-modal-large"),angular.element(b).addClass("ee-modal-small"))}),a.close=function(){"undefined"!=typeof m&&m.fireOnCancel(),g.close(),c.setIsOpenModal(!1)},"undefined"!=typeof m&&(m.exposeCancel(function(){c.getIsOpenModal()===!0&&(c.setIsOpenModal(!1),a.close(),a.$digest())}),m.exposeClearForm(function(){c.getIsOpenModal()===!0&&(a.clearEEForm(),a.$digest())})),a.clearEEForm=function(){a.resetForm=!0,a.EEnewEntityForm.submitted=!1,a.EEnewEntityForm.$setPristine()},a.cancelEEForm=function(){a.EEnewEntityForm.$pristine?(m.fireOnCancel(),c.setIsOpenModal(!1),g.close()):a.EEnewEntityForm.$pristine&&"searching"!==a.stateForm&&"searchSucc"!==a.stateForm||l(["CONFIRM_DIALOG_MSG","CONFIRM_DIALOG_TITLE"]).then(function(a){e.confirmation(a.CONFIRM_DIALOG_MSG,a.CONFIRM_DIALOG_TITLE).then(function(){m.fireOnCancel(),c.setIsOpenModal(!1),g.close()},function(){})})},a.submitEEForm=function(b){if("edit"===b?a.EEnewEntityForm.label.$setValidity("required",!0):"new"===b&&a.EEnewEntityForm.origLabel.$setValidity("required",!0),a.EEnewEntityForm.$valid){if(a.stateForm="loading","edit"===b){var e=a.EEnewEntityForm.origLabel.$viewValue,h=a.EEnewEntityForm.basketID,i=a.EEnewEntityForm.entityID,j=a.EEnewEntityForm.origAbstract.$viewValue||"",k=a.EEnewEntityForm.origUrlDepic.$viewValue||"",l=[];for(var n in a.EEnewEntityForm.editedType)a.EEnewEntityForm.editedType[n].checked&&l.push(a.EEnewEntityForm.editedType[n].URI);var o=a.EEnewEntityForm.origLan.$viewValue.value,p={id:i,label:e,"abstract":j,type:l,depiction:k},q=d(f.conf,h,o,"");q.save({},p,function(){a.stateForm="success",f.elemToSearch=p.label,f.label=p.label,f.abstract=p.abstract,c.setIsOpenModal(!1),g.close()},function(){a.stateForm="error"})}else if("new"===b){var e=a.EEnewEntityForm.label.$viewValue,j=a.EEnewEntityForm.abstract.$viewValue||"",k=a.EEnewEntityForm.urlName.$viewValue||"",l=[],r=a.EEnewEntityForm.originalUrl.$viewValue||"";for(var s in a.EEnewEntityForm.types)a.EEnewEntityForm.types[s].checked&&l.push(a.EEnewEntityForm.types[s].URI);var o=a.EEnewEntityForm.lan.$viewValue.value,t={label:e,"abstract":j,type:l,depiction:k,resource:r},u=d(f.conf,a.conf.basketID,o,"");u.save({},t,function(b,d){a.stateForm="success",f.location=d("Location"),f.elemToSearch=t.label,f.label=t.label,f.abstract=t.abstract,f.type=t.type;var e={};e.value=d("Location"),e.label=t.label,e.type=t.type,e.image=t.depiction,e.description=t.abstract,e.language=o,"undefined"!=typeof m&&(m.fireOnSave(e),m.fireOnCancel()),c.setIsOpenModal(!1),g.close()},function(){a.stateForm="error"})}}else a.EEnewEntityForm.submitted=!0,"undefined"!=typeof a.EEnewEntityForm.urlName.$viewValue&&(a.EEnewEntityForm.urlName.activeValidation=!0),"undefined"!=typeof a.EEnewEntityForm.origUrlDepic.$viewValue&&(a.EEnewEntityForm.origUrlDepic.activeValidation=!0)},a.useItem=function(b,e){if(a.conf.copyToKorboBeforeUse&&"korbo"!==e){a.stateForm="loading";var h=a.defaultLan.value,i={label:b.label,"abstract":b.abstract,type:b.type,depiction:b.depiction,resourceUrl:b.resource},j=d(f.conf,a.conf.basketID,h,"");j.save({},i,function(b,d){a.stateForm="success",f.label=i.label,f.elemToSearch=i.label,f.location=d("Location"),f.abstract=i.abstract,f.type=i.type;var e={};e.value=d("Location"),e.label=i.label,e.type=i.type,e.image=i.depiction,e.description=i.abstract,e.language=h,m.fireOnSave(e),m.fireOnCancel(),c.setIsOpenModal(!1),g.close()},function(){a.stateForm="error"})}else{f.label=b.label,f.elemToSearch=b.label;var k,l=a.defaultLan.value;k="korbo"===e?b.uri:"http://location/"+b.label,f.location=k,f.abstract=b.abstract,f.type=b.type;var n={};n.value=k,n.label=b.label,n.type=b.type,n.image=b.depiction,n.description=b.abstract,n.language=l,m.fireOnSave(n),m.fireOnCancel(),c.setIsOpenModal(!1),g.close()}},a.setUILanguage=function(a){c.setUILanguage(a)}}]),angular.module("KorboEE").controller("FormController",["$scope",function(a){a.name="Form control";var b=a.$parent.$parent;b.EEnewEntityForm=a.EEnewEntityForm,a.$watch("EEnewEntityForm",function(){b.EEnewEntityForm=a.EEnewEntityForm})}]),angular.module("KorboEE").controller("labelCtrl",["$scope",function(a){a.name="Label control";var b=a.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent;a.item=b.elemToSearch,a.conf=b.conf,b.$watch("selectedTab",function(){a.selectedTab=b.selectedTab}),b.$watch("stateForm",function(){a.stateForm=b.stateForm}),a.update=function(){b.elemToSearch=a.item}}]),angular.module("KorboEE").controller("contentCtrl",["$scope",function(a){a.name="Content content control";var b;b=a.$parent.$parent.$parent.$parent,a.tabs={search:!0,"new":!1,edit:!1};for(var c in a.tabs)a.tabs[c]=c!==b.tabToSelect?!1:!0;b.$watch("stateForm",function(){a.stateForm=b.stateForm}),b.$watch("numberResult",function(){"undefined"==typeof b.numberResult||(a.numResTot=b.numberResult)}),a.onTabSelected=function(c){b.setCurrentTab(c);for(var d in a.tabs)d!==c&&(a.tabs[d]=!1)},b.selectTab=function(b){for(var c in a.tabs)a.tabs[c]=c!==b?!1:!0},a.isEditTabVisible=!1,b.$watch("isEditSelected",function(){a.isEditTabVisible=b.isEditSelected})}]),angular.module("KorboEE").directive("korboEntityEditor",["korboConf","APIService","$window",function(a,b,c){return{restrict:"E",templateUrl:function(d,e){var f=e.confName||"",g=a.setConfiguration(f);if("undefined"!=typeof c[g.globalObjectName])return e.error=!0,e.errorType="globalObject","src/ee-directive-modal/korboee-error-config.tmpl.html";if(g.useAutocompleteWithSearch&&g.useAutocompleteWithNew)return e.error=!0,e.errorType="autoComplete","src/ee-directive-modal/korboee-error-config.tmpl.html";e.error=!1;var h=b.init(g),i=["OpenSearch","OpenNew","Cancel","ClearForm","Edit"],j=["Open","Cancel","Save"];return h.addEvent(j),h.addFeature(i),null!==g.onLoad&&"function"==typeof g.onLoad&&g.useOnlyCallback&&g.onLoad(),g.useOnlyCallback||!g.useTafonyCompatibility&&!g.useOnlyCallback?"src/ee-directive-modal/korboee-callback.tmpl.html":g.useTafonyCompatibility?"src/ee-directive-modal/korboee-entity.tmpl.html":void 0},scope:{},link:function(b,c,d){var e=d.confName||"";b.conf=a.setConfiguration(e),b.abstract="",b.location="",b.errorGlobalObjName=d.error,b.errorType=d.errorType,a.setIsOpenModal(!1)},controller:"EEDirectiveCtrl"}}]),angular.module("KorboEE").controller("newContentCtrl",["$scope",function(a){a.name="New content control";var b=a.$parent.$parent.$parent.$parent.$parent.$parent.$parent;a.countItem=0,a.conf=b.conf,a.copyConf=angular.copy(a.conf),a.types=angular.copy(a.conf.type),a.newLan=a.copyConf.languages[0];for(var c in a.copyConf.languages)if(a.copyConf.languages[c].state===!0){a.newLan=a.copyConf.languages[c];break}b.$watch("selectedTab",function(){a.currentTab=b.selectedTab}),b.$watch("resetForm",function(){if(b.resetForm){a.newLan=a.copyConf.languages[0];for(var c in a.copyConf.languages)if(a.copyConf.languages[c].state===!0){a.newLan=a.copyConf.languages[c];break}a.types=angular.copy(a.conf.type),a.newLabel="",a.newAbstract="",a.newUrl="",a.originalUrl="",a.updateTypes(),b.resetForm=!1}}),b.$watch("isCopySelected",function(){if(b.isCopySelected=!1,"undefined"!=typeof b.itemToCopy){a.newLabel=b.itemToCopy.label,a.newAbstract=b.itemToCopy.abstract,a.newUrl=b.itemToCopy.depiction,a.originalUrl="undefined"!=typeof b.itemToCopy.value?b.itemToCopy.value:b.itemToCopy.resource;for(var c in a.copyConf.languages)if(a.copyConf.languages[c].value===b.itemToCopy.language_code){a.newLan=a.copyConf.languages[c];break}var d=!0;a.types=angular.copy(a.conf.type);for(var e in b.itemToCopy.type){d=!0;var f={};for(var g in a.types)if(a.types[g].URI===b.itemToCopy.type[e]){d=!1,a.types[g].checked=!0;break}d&&""!==b.itemToCopy.type[e]&&(f.label=b.getTypeLabelFromUrl(b.itemToCopy.type[e]),f.URI=b.itemToCopy.type[e],f.checked=!0,a.types.push(f))}}a.updateTypes()});for(var d in a.types)a.types[d].checked=a.types[d].state||!1;a.updateTypes=function(){a.countItem=0;for(var c in a.types){var d=a.types[c];d.checked&&(a.countItem+=1)}b.EEnewEntityForm.types=a.types},a.updateTypes()}]).directive("checkType",function(){return{require:"ngModel",link:function(a,b,c,d){a.$watch("countItem",function(){a.$watch("currentTab",function(){return"edit"===a.currentTab?(d.$setValidity("minCheckReq",!0),void 0):a.countItem>0?(d.$setValidity("minCheckReq",!0),void 0):(d.$setValidity("minCheckReq",!1),void 0)})})}}}).directive("checkLen",function(){return{require:"ngModel",link:function(a,b,c,d){a.$watch("newLabel",function(){a.$watch("currentTab",function(){return"edit"===a.currentTab?(d.$setValidity("minLenCheck",!0),void 0):"undefined"!=typeof a.newLabel&&a.newLabel.length>=a.conf.labelMinLength?(d.$setValidity("minLenCheck",!0),void 0):"undefined"!=typeof a.newLabel&&a.newLabel.length<a.conf.labelMinLength?(d.$setValidity("minLenCheck",!1),void 0):void 0})})}}}),angular.module("KorboEE").controller("searchContentCtrl",["$rootScope","$scope","EntityResource","$timeout","$window",function(a,b,c,d,e){b.name="Search content control";var f=b.$parent.$parent.$parent.$parent.$parent.$parent.$parent;b.conf=f.conf,b.elemToSearch=f.elemToSearch,b.fullPreview=!1,b.shortPreview=!1,b.numActiveProvider=1,b.limit=b.conf.limitSearchResult,b.offset=0,b.setPage=function(a,c){b.offset=b.limit*(a-1),b.currentPage=a,b.searchItem(c)},b.resetPaginator=function(){b.currentPage=0,b.offset=0},f.$watch("stateForm",function(){b.stateForm=f.stateForm}),b.results={},f.numberResult="",b.results.korbo={label:"korbo",res:{},position:1};var g=2;for(var h in b.conf.providers)b.conf.providers[h]===!0&&"korbo"!==h&&(b.results[h]={label:h,res:{},position:g},b.numActiveProvider++,g++);f.numSuccessWaiting=b.numActiveProvider;var i,j=f.defaultLan.value,k=function(a,b){var c=b();return c["Accept-Language"]=j,JSON.stringify(a)},l=c(b.conf,b.conf.basketID,"",k);f.$watch("elemToSearch",function(){f.modalJustOpened?(f.modalJustOpened=!1,b.searchItem()):(d.cancel(i),m())});var m=function(){i=d(function(){b.searchItem()},b.conf.updateTime)};b.searchItem=function(a){if(b.elemToSearch=f.elemToSearch,"undefined"!=typeof a)l.query({q:b.elemToSearch,p:a,lang:f.defaultLan.value,limit:b.limit,offset:b.offset},function(c){b.results[a].res=c,f.stateForm="searchSucc"},function(){f.stateForm="searchErr"});else if(b.elemToSearch=f.elemToSearch,f.numSuccessWaiting=b.numActiveProvider,"undefined"!=typeof b.elemToSearch&&b.elemToSearch.length>=b.conf.labelMinLength){var c=b.elemToSearch;f.stateForm="searching";var d=0;for(var e in b.results)b.results[e].res=l.query({q:c,p:e,lang:f.defaultLan.value,limit:b.limit,offset:b.offset},function(a){f.stateForm="searchSucc",f.numSuccessWaiting--,d+=parseInt(a.metadata.totalCount,10),f.numberResult=d},function(){f.stateForm="searchErr"})}},b.getItem=function(a,c,d){b.GETStatus="loading","korbo"!==c&&(d="null"),"undefined"!=typeof b.itemSelected&&b.itemSelected.id===a?b.shortPreview=!1:l.get({id:a,p:c,basketID:d},function(e){""===e.label?(j=e.available_languages[0],l.get({id:a,p:c,basketID:d},function(a){b.item=a,b.shortPreview=!0,b.GETStatus="success"},function(){b.shortPreview=!1})):(b.item=e,b.shortPreview=!0,b.GETStatus="success")},function(){b.shortPreview=!1})},b.getListType=function(){if("undefined"!=typeof b.itemSelected&&"undefined"!=typeof b.itemSelected.type){var a=angular.copy(b.conf.type);b.entityTypes=[];var c=!1,d={};if(1===b.itemSelected.type.length&&""===b.itemSelected.type[0])d={},b.entityTypes.push(d);else for(var e in b.itemSelected.type){for(var g in a)if(a[g].URI===b.itemSelected.type[e]){d={},d.label=a[g].label,d.uri=a[g].URI,b.entityTypes.push(d),c=!0;break}c||(d={},d.label=f.getTypeLabelFromUrl(b.itemSelected.type[e]),d.uri=b.itemSelected.type[e],b.entityTypes.push(d)),c=!1}}},b.selectItem=function(a,c,d){f.stateForm="searchSucc",b.GETStatus="loading","korbo"!==c&&(d="null"),l.get({id:a,p:c,basketID:d},function(e){""===e.label?(j=e.available_languages[0],l.get({id:a,p:c,basketID:d},function(a){b.GETStatus="success",b.fullPreview=!0,b.shortPreview=!1,b.itemSelected=a,b.selectedItemProvider=c,b.getListType()},function(){b.fullPreview=!1})):(b.GETStatus="success",b.fullPreview=!0,b.shortPreview=!1,b.itemSelected=e,b.selectedItemProvider=c,b.getListType())},function(){b.fullPreview=!1})},b.resetPrev=function(){b.shortPreview=!1},b.useItem=function(){f.useItem(b.itemSelected,b.selectedItemProvider)},b.copyItem=function(){f.isCopySelected=!0,f.itemToCopy=b.itemSelected,f.providerCopy=b.selectedItemProvider,f.selectTab("new"),f.resetForm=!1},b.editItem=function(){f.isEditSelected=!0,f.itemToEdit=b.itemSelected,f.selectTab("edit"),f.setCurrentTab("edit"),f.resetForm=!1},b.getClass=function(a){return"undefined"!=typeof b.itemSelected&&angular.equals(b.itemSelected.id,a)?"ee-item-selected":""},b.$watch("GETStatus",function(){var a=e.document.querySelector(".modal-dialog");"loading"===b.GETStatus?angular.element(a).addClass("mouse-loading"):"success"===b.GETStatus&&angular.element(a).removeClass("mouse-loading")}),b.showCopyButton=function(){return-1!==b.conf.visualizeCopyButton.indexOf(b.selectedItemProvider)},b.showUseButton=function(){return-1!==b.conf.visualizeUseButton.indexOf(b.selectedItemProvider)}}]),angular.module("KorboEE").controller("editContentCtrl",["$scope",function(a){a.name="Edit content control";var b=a.$parent.$parent.$parent.$parent.$parent.$parent.$parent;a.countItemEdit=0,a.conf=b.conf,a.copyConf=angular.copy(a.conf),a.types=angular.copy(a.conf.type),a.newLan=a.copyConf.languages[0];for(var c in a.copyConf.languages)if(a.copyConf.languages[c].state===!0){a.newLan=a.copyConf.languages[c];break}b.$watch("selectedTab",function(){a.currentTab=b.selectedTab}),b.$watch("itemToEdit",function(){if("undefined"!=typeof b.itemToEdit){a.originalLabel=b.itemToEdit.label,a.originalAbstract=b.itemToEdit.abstract,a.originalDepic=b.itemToEdit.depiction,a.originalUrl=b.itemToEdit.uri,b.EEnewEntityForm.entityID=b.itemToEdit.id,b.EEnewEntityForm.basketID=b.itemToEdit.basket_id;for(var c in a.copyConf.languages)if(a.copyConf.languages[c].value===b.itemToEdit.language_code){a.originalLan=a.copyConf.languages[c];break}var d=!0;a.types=angular.copy(a.conf.type);for(var e in b.itemToEdit.type){d=!0;var f={};for(var g in a.types)if(a.types[g].URI===b.itemToEdit.type[e]){d=!1,a.types[g].checked=!0;break}d&&""!==b.itemToEdit.type[e]&&(f.label=b.getTypeLabelFromUrl(b.itemToEdit.type[e]),f.URI=b.itemToEdit.type[e],f.checked=!0,a.types.push(f))}}a.updateTypesEdit()});for(var d in a.types)a.types[d].checked=a.types[d].state||!1;a.updateTypesEdit=function(){a.countItemEdit=0;for(var c in a.types){var d=a.types[c];d.checked&&(a.countItemEdit+=1)}b.EEnewEntityForm.editedType=a.types},a.updateTypesEdit()}]).directive("checkTypeEdit",function(){return{require:"ngModel",link:function(a,b,c,d){a.$watch("countItemEdit",function(){a.$watch("currentTab",function(){return"new"===a.currentTab?(d.$setValidity("minCheckReqEdit",!0),void 0):a.countItemEdit>0?(d.$setValidity("minCheckReqEdit",!0),void 0):(d.$setValidity("minCheckReqEdit",!1),void 0)})})}}}).directive("checkLenEdit",function(){return{require:"ngModel",link:function(a,b,c,d){a.$watch("newLabel",function(){a.$watch("currentTab",function(){return"new"===a.currentTab?(d.$setValidity("minLenCheckEdit",!0),void 0):"undefined"!=typeof a.originalLabel&&a.originalLabel.length>=a.conf.labelMinLength?(d.$setValidity("minLenCheckEdit",!0),void 0):"undefined"!=typeof a.originalLabel&&a.originalLabel.length<a.conf.labelMinLength?(d.$setValidity("minLenCheckEdit",!1),void 0):void 0})})}}});var KORBODEFAULTCONF;KORBODEFAULTCONF={endpoint:"http://demo-cloud.api.korbo.org/v1",basketID:1,updateTime:1e3,labelMinLength:3,copyToKorboBeforeUse:!1,tafonyId:"default_tafony_id",tafonyName:"default_tafony_name",nameInputHiddenUri:"default_korbo_uri",nameInputHiddenLabel:"default_korbo_label",useTafonyCompatibility:!1,useOnlyCallback:!1,globalObjectName:"EE",onLoad:null,searchTypes:["http://person.uri","http://philosopher.uri","http://place.uri"],limitSearchResult:10,providers:{freebase:!1,dbpedia:!1},buttonLabel:"Default Search",type:[{label:"Schema.org place",state:!0,URI:"http://schema.org/Place"},{label:"FOAF person",state:!1,URI:"http://xmlns.com/foaf/0.1/Person"},{label:"W3 Spatial thing",state:!0,URI:"http://www.w3.org/2003/01/geo/wgs84_pos#SpatialThing"}],languages:[{name:"Italian",value:"it",state:!1},{name:"English",value:"en",state:!0},{name:"German",value:"de",state:!1}],useTranslation:!1,useAutocompleteWithSearch:!1,useAutocompleteWithNew:!1,visualizeUseButton:["freebase","korbo"],visualizeCopyButton:["freebase","korbo"],visualizeEditButton:!0,onReady:null},angular.module("KorboEE").factory("korboConf",["$translate",function(a){var b=angular.copy(KORBODEFAULTCONF),c=function(a){return"undefined"==typeof a||"undefined"==typeof window[a]||""===a?angular.copy(KORBODEFAULTCONF):(b=angular.copy(KORBODEFAULTCONF),angular.extend(b,window[a]),b)};return b.setConfiguration=c,b.setIsOpenModal=function(a){b.modalOpen=a},b.getIsOpenModal=function(){return b.modalOpen},b.setUILanguage=function(c){b.UILanguageUsed=c,a.use(c)},b.getUILanguage=function(){return b.UILanguageUsed},b}]),angular.module("KorboEE").factory("EntityResource",["$resource",function(a){return function(b,c,d,e){var f=b.endpoint;return a(f,{},{save:{method:"POST",headers:{"Access-Control-Expose-Headers":"Location","Content-Language":d},url:f+"/baskets/"+c+"/items"},query:{method:"GET",url:f+"/search/items",transformRequest:e,cache:!1},get:{method:"GET",url:f+"/baskets/:basketID/items/:id",transformRequest:e,cache:!0}})}}]),angular.module("CustomFilterModule",[]).filter("orderObjectBy",function(){return function(a,b,c){var d=[];return angular.forEach(a,function(a){d.push(a)}),d.sort(function(a,c){return a[b]>c[b]}),c&&d.reverse(),d}}).filter("characters",function(){return function(a,b,c){if(isNaN(b))return a;if(0>=b)return"";if(a&&a.length>b){if(a=a.substring(0,b),c)for(;" "===a.charAt(a.length-1);)a=a.substr(0,a.length-1);else{var d=a.lastIndexOf(" ");-1!==d&&(a=a.substr(0,d))}return a+"..."}return a}}).filter("words",function(){return function(a,b){if(isNaN(b))return a;if(0>=b)return"";if(a){var c=a.split(/\s+/);c.length>b&&(a=c.slice(0,b).join(" ")+"...")}return a}}),angular.module("Confirm_module",["ui.bootstrap"]).factory("ConfirmDialog",["$modal",function(a){function b(b,c){var d=a.open({templateUrl:"src/confirm/confirm.tmpl.html",backdrop:"static",keyboard:!1,resolve:{data:function(){return{title:c?c:"Confirm",message:b}}},controller:"ConfirmController"});return d.result}return{confirmation:b}}]),angular.module("Confirm_module").controller("ConfirmController",["$scope","$modalInstance","data",function(a,b,c){a.name="Confirm",a.data=c,a.ok=function(){b.close()},a.cancel=function(){b.dismiss()}}]),angular.module("APIModule",[]).service("APIService",["$window",function(a){function b(a){return this.conf=a,this.eventCallbacks={},this.featureCallbacks={},this.global={},this}var c=[],d={};return b.prototype.addEvent=function(a){var b=this,c=b.eventCallbacks,d=a;"string"==typeof a&&(d=[a]);for(var e in d){var f=d[e];c[f]=[],b.global["on"+f]=function(a){return function(b){"function"==typeof b&&c[a].push(b)}}(f),b["fireOn"+f]=function(a){return function(){var b=Array.prototype.splice.call(arguments,0);for(var d in c[a])c[a][d].apply(this,b)}}(f)}},b.prototype.addFeature=function(a){var b=this,c=b.featureCallbacks,d=a;"string"==typeof a&&(d=[a]);for(var e in d){var f=d[e];b["expose"+f]=function(a){return function(b){"function"==typeof b&&(c[a]=b)}}(f),b.global["call"+f]=function(a){return function(){if(a in c){var d=Array.prototype.splice.call(arguments,0);return c[a].apply(b,d)}}}(f)}},d.init=function(d){if("globalObjectName"in d){var e=new b(d);return a[d.globalObjectName]=e.global,c[d.globalObjectName]=e,e}},d.get=function(a){return c[a]},d}]),angular.module("templates-main",["src/confirm/confirm.tmpl.html","src/ee-content/content.tmpl.html","src/ee-content/ee-edit/edit-content.tmpl.html","src/ee-content/ee-new/new-content.tmpl.html","src/ee-content/ee-search/search-content.tmpl.html","src/ee-directive-modal/korboee-callback.tmpl.html","src/ee-directive-modal/korboee-entity.tmpl.html","src/ee-directive-modal/korboee-error-config.tmpl.html","src/ee-label/label.tmpl.html","src/ee-modal/modal.tmpl.html"]),angular.module("src/confirm/confirm.tmpl.html",[]).run(["$templateCache",function(a){a.put("src/confirm/confirm.tmpl.html",'<div class="modal-header confirm-header">\n    <h3>{{ data.title }}</h3>\n</div>\n<div class="modal-body confirm-body">\n    {{ data.message }}\n</div>\n<div class="modal-footer confirm-footer">\n    <button class="btn btn-primary confirm-ok-button" ng-click="ok()">OK</button>\n    <button class="btn btn-warning confirm-cancel-button" ng-click="cancel()">Cancel</button>\n</div>')}]),angular.module("src/ee-content/content.tmpl.html",[]).run(["$templateCache",function(a){a.put("src/ee-content/content.tmpl.html",'<div ng-controller="contentCtrl">\n\n    <tabset class="ee-nav-tabset">\n        <tab class="ee-tab" select="onTabSelected(\'search\')" active="tabs[\'search\']">\n            <tab-heading >Search \n                <span class="badge ee-res-tot" ng-show="stateForm != \'searching\'">{{numResTot}}</span>\n            </tab-heading>\n            <ng-include src="\'src/ee-content/ee-search/search-content.tmpl.html\'"/>\n        </tab>\n\n        <tab class="ee-tab" heading="New" select="onTabSelected(\'new\')" active="tabs[\'new\']">\n            <ng-include src="\'src/ee-content/ee-new/new-content.tmpl.html\'"/>\n        </tab>\n        \n        <tab class="ee-tab" heading="Edit" select="onTabSelected(\'edit\')" active="tabs[\'edit\']" ng-show="isEditTabVisible">\n            <ng-include src="\'src/ee-content/ee-edit/edit-content.tmpl.html\'"/>\n        </tab>\n\n    </tabset>\n\n</div>')}]),angular.module("src/ee-content/ee-edit/edit-content.tmpl.html",[]).run(["$templateCache",function(a){a.put("src/ee-content/ee-edit/edit-content.tmpl.html",'<div ng-controller="editContentCtrl" class="ee-edit">\n    <div class="form-group">\n        <div class="input-group col-lg-10 ee-original-url-container-edit" ng-show="originalUrl !== undefined && originalUrl !== \'\' ">\n            <span class="input-group-addon">Original URL</span>\n            <input\n                name="origOriginalUrl"\n                type="url"\n                ng-model="originalUrl"\n                class="ee-original-url-edit form-control"\n                ng-disabled="true"\n                >\n            </input>\n        </div> <!-- div input-group -->\n    </div> <!-- div form-group -->\n    \n    <div class="form-group">\n        <div class="input-group col-lg-10">\n            <span class="input-group-addon">Label</span>\n            <input type="text"\n                name="origLabel"\n                class="form-control ee-modal-label-input-edit"\n                ng-model="originalLabel"\n                check-len-edit\n                required />\n        </div>    <!-- div input-group -->\n\n        <div class="alert alert-danger error error-min-len-edit"\n            ng-show="EEnewEntityForm.submitted && EEnewEntityForm.origLabel.$error.minLenCheckEdit && !EEnewEntityForm.origLabel.$error.required">\n            Label must be at least {{conf.labelMinLength}} characters.\n        </div> <!-- div error-min-len -->\n        \n        <div class="alert alert-danger error error-required-edit" \n            ng-show="EEnewEntityForm.submitted && EEnewEntityForm.origLabel.$error.required" >\n            Label is required.\n        </div> <!-- div error-label-req -->\n    </div> <!-- div form-group -->\n    \n    <div class="form-group">\n        <div class="input-group ol-lg-10">\n            <span class="input-group-addon">Abstract</span>\n            <textarea\n                rows="5"\n                cols="20"\n                ng-model="originalAbstract"\n                name="origAbstract"\n                class="form-control ee-abstract-input-edit">\n            </textarea>\n        </div>    \n    </div> <!-- div form-group -->\n    \n    <div class="form-group">\n        <div class="input-group col-lg-10">\n            <span class="input-group-addon">Image URL</span>\n            <input\n                name="origUrlDepic"\n                type="url"\n                ng-model="originalDepic"\n                class="ee-url-input-edit form-control"\n                >\n            </input>\n        </div> <!-- div input-group -->\n        <div class="alert alert-danger error error-url-invalid-edit"\n            ng-show="EEnewEntityForm.submitted && EEnewEntityForm.origUrlDepic.$error.url && EEnewEntityForm.origUrlDepic.activeValidation">\n            Invalid URL\n        </div>\n    </div> <!-- div form-group -->    \n\n    <div class="row">\n        <div class="col-md-6">\n          <div class="form-group">\n              <label for="lan">Language</label>    \n              <select\n                  ng-model="originalLan"\n                  name="origLan"\n                  ng-options="l.name for l in copyConf.languages"\n                  class="ee-lan-edit form-control">\n              </select>\n          </div> <!-- div form-group language-->\n      </div><!-- /.col-lg -->\n      \n          <div class="col-md-6">\n              <div class="form-group">\n                  <label for="items">Types</label>\n                  <div ng-repeat="item in types"\n                      class="ee-type-edit form-group checkbox">\n                      <label>\n                      <input \n                          type="checkbox"\n                          class="ee-type-input-edit"\n                          name="origItems"\n                          ng-change="updateTypesEdit()"\n                          ng-model="item.checked"\n                          value="{{item.uri}}"\n                          check-type-edit />\n                      {{item.label}}\n                      </label>\n                  </div> <!-- div ng-repeat item  -->\n              </div> <!-- div form-group types-->\n          </div><!-- /.col-lg -->\n    </div><!-- /.row -->    \n          \n        <div \n            class="alert alert-danger error error-type-required-edit"\n            ng-show="EEnewEntityForm.submitted && EEnewEntityForm.origItems.$error.minCheckReqEdit">\n            Must select at least 1 type\n        </div>\n    \n</div> <!-- div ng-controller-->\n\n\n            \n   \n\n')
}]),angular.module("src/ee-content/ee-new/new-content.tmpl.html",[]).run(["$templateCache",function(a){a.put("src/ee-content/ee-new/new-content.tmpl.html",'<div ng-controller="newContentCtrl" class="ee-new">\n    <div class="form-group">\n        <div class="input-group col-lg-10 ee-original-url-container" ng-show="originalUrl !== undefined && originalUrl !== \'\' ">\n            <span class="input-group-addon">Original URL</span>\n            <input\n                name="originalUrl"\n                type="url"\n                ng-model="originalUrl"\n                class="ee-original-url form-control"\n                ng-disabled="true"\n                >\n            </input>\n        </div> <!-- div input-group -->\n    </div> <!-- div form-group -->\n    \n    <div class="form-group">\n        <div class="input-group col-lg-10">\n            <span class="input-group-addon">Label</span>\n            <input type="text"\n                name="label"\n                class="form-control ee-modal-label-input"\n                ng-model="newLabel"\n                check-len\n                required />\n        </div>    <!-- div input-group -->\n\n        <div class="alert alert-danger error error-min-len"\n            ng-show="EEnewEntityForm.submitted && EEnewEntityForm.label.$error.minLenCheck && !EEnewEntityForm.label.$error.required">\n            Label must be at least {{conf.labelMinLength}} characters.\n        </div> <!-- div error-min-len -->\n        \n        <div class="alert alert-danger error error-required" \n            ng-show="EEnewEntityForm.submitted && EEnewEntityForm.label.$error.required" >\n            Label is required.\n        </div> <!-- div error-label-req -->\n    </div> <!-- div form-group -->\n    \n    <div class="form-group">\n        <div class="input-group ol-lg-10">\n            <span class="input-group-addon">Abstract</span>\n            <textarea\n                rows="5"\n                cols="20"\n                ng-model="newAbstract"\n                name="abstract"\n                class="form-control ee-abstract-input">\n            </textarea>\n        </div>    \n    </div> <!-- div form-group -->\n    \n    <div class="form-group">\n        <div class="input-group col-lg-10">\n            <span class="input-group-addon">Image URL</span>\n            <input\n                name="urlName"\n                type="url"\n                ng-model="newUrl"\n                class="ee-url-input form-control"\n                >\n            </input>\n        </div> <!-- div input-group -->\n        <div class="alert alert-danger error error-url-invalid"\n            ng-show="EEnewEntityForm.submitted && EEnewEntityForm.urlName.$error.url && EEnewEntityForm.urlName.activeValidation">\n            Invalid URL\n        </div>\n    </div> <!-- div form-group -->    \n\n    <div class="row">\n        <div class="col-md-6">\n          <div class="form-group">\n              <label for="lan">Language</label>    \n              <select\n                  ng-model="newLan"\n                  name="lan"\n                  ng-options="l.name for l in copyConf.languages"\n                  class="ee-lan form-control">\n              </select>\n          </div> <!-- div form-group language-->\n      </div><!-- /.col-lg -->\n      \n          <div class="col-md-6">\n              <div class="form-group">\n                  <label for="items">Types</label>\n                  <div ng-repeat="item in types"\n                      class="ee-type form-group checkbox">\n                      <label>\n                      <input \n                          type="checkbox"\n                          class="ee-type-input"\n                          name="items"\n                          ng-change="updateTypes()"\n                          ng-model="item.checked"\n                          value="{{item.uri}}"\n                          check-type />\n                      {{item.label}}\n                      </label>\n                  </div> <!-- div ng-repeat item  -->\n              </div> <!-- div form-group types-->\n          </div><!-- /.col-lg -->\n    </div><!-- /.row -->    \n          \n        <div \n            class="alert alert-danger error error-type-required"\n            ng-show="EEnewEntityForm.submitted && EEnewEntityForm.items.$error.minCheckReq">\n            Must select at least 1 type\n        </div>\n    \n</div> <!-- div ng-controller-->\n\n\n            \n   \n\n')}]),angular.module("src/ee-content/ee-search/search-content.tmpl.html",[]).run(["$templateCache",function(a){a.put("src/ee-content/ee-search/search-content.tmpl.html",'<div ng-controller = "searchContentCtrl" class="ee-search">\n    <div ng-include src="\'src/ee-label/label.tmpl.html\'"></div>\n    <tabset\n        vertical="true"\n        type="navType"\n        class="container ee-vertical-tab">\n        \n        <!-- SHOW A TAB FOR EACH PROVIDER -->\n            <tab ng-repeat = "r in results | orderObjectBy:\'position\' "  class="ee-provider-tab" select="resetPaginator()">\n                <tab-heading\n                    class="ee-tab-provider">\n                    {{r.label}}\n                    <i class="glyphicon glyphicon-refresh" ng-show="r.res.metadata.totalCount == undefined && stateForm == \'searching\'"></i>\n                    <span class="badge ee-num-res" ng-show="stateForm != \'searching\'">{{r.res.metadata.totalCount}}</span>\n                </tab-heading>\n                <div>\n                    <div class="ee-result-items">\n                        <ul class="list-group ee-list-group-items">\n                            <li class="list-group-item ee-item-label"\n                                ng-repeat = "item in r.res.data"\n                                ng-mouseover = "getItem(item.id, r.label, item.basket_id)"\n                                ng-mouseout="resetPrev()"\n                                ng-class="getClass(item.id)"\n                                ng-click="selectItem(item.id, r.label, item.basket_id)">\n                                {{item.label}} {{getClass(item.id)}}\n                            </li>\n                        </ul>\n\n                        <pagination ng-show="r.res.metadata.totalCount > limit"\n                            total-items="r.res.metadata.totalCount"\n                            on-select-page="setPage(page, r.label)"\n                            items-per-page="limit"\n                            page="currentPage"\n                            max-size = "3"                            \n                            class = "pagination-sm ee-pagination"\n                            boundary-links="true"\n                            previous-text="&lsaquo;"\n                            next-text="&rsaquo;"\n                            first-text="&laquo;"\n                            last-text="&raquo;"\n                            >\n                        </pagination>\n                        \n                        <div class="error error-search alert alert-danger" ng-show="r.res.metadata.totalCount == 0">\n                            No results for {{r.label}}\n                        </div> <!-- end div no results -->\n                    </div>\n                    \n                <!-- SHORT PREVIEW PANEL -->\n                <div class="ee-short-item-preview" ng-show="shortPreview">\n                    <div class="ee-item-label-short-preview"><h4>{{item.label}}</h4></div>\n                    <div class="ee-float-container">\n                        <div class="ee-item-pic-short-preview">\n                            <div class="ee-no-depiction" ng-if="item.depiction == \'\'"></div>\n                            <img ng-src="{{item.depiction}}" ng-if="item.depiction != \'\'">\n                        </div>\n                        <div class="ee-item-abstract-short-preview"> \n                            {{item.abstract | characters:80}}\n                        </div>\n                    </div><!-- ee-float-container -->\n                </div>  <!-- ee-short-item-preview -->\n\n                <!-- FULL PREVIEW PANEL -->\n                <div class="ee-full-item-preview" ng-show="fullPreview && !shortPreview">\n                    <div class="ee-item-label-full-preview"><h4>{{itemSelected.label}}</h4></div> \n                    <div class="ee-button-container">\n                        <button type="button" ng-show="showUseButton()" class="btn btn-primary btn-xs ee-btn-use" ng-click="useItem()">Use</button>\n                        <button type="button" ng-show="showCopyButton()" class="btn btn-primary btn-xs ee-btn-copy" ng-click="copyItem()">Copy</button>\n                        <button type="button" class="btn btn-primary btn-xs ee-btn-edit" \n                                ng-show = "conf.visualizeEditButton && selectedItemProvider === \'korbo\'" ng-click="editItem()">Edit</button>\n                    </div>\n                    <div class="ee-float-container">\n                        <div class="ee-item-pic-full-preview">\n                            <div class="ee-no-depiction" ng-if="itemSelected.depiction == \'\'"></div>\n                            <img ng-src="{{itemSelected.depiction}}" ng-if="itemSelected.depiction != \'\'">\n                        </div>\n                        <div class="ee-item-abstract-full-preview">{{itemSelected.abstract}}</div>\n                    </div><!-- ee-float-container -->\n                    \n                    <div class="ee-float-container">\n                        <div class="ee-item-type-full-preview"><h5>Type:</h5> \n                            <span ng-repeat=" type in entityTypes" title="{{type.uri}}"> {{type.label}}<span ng-hide="$last">, </span> </span>\n                        </div>\n                    </div> <!-- ee-float-container -->\n                </div> <!-- ee-full-item-preview -->\n            </div>\n            \n            </tab>\n      </tabset>\n\n\n<div> <!-- fine div ng-controller -->\n')}]),angular.module("src/ee-directive-modal/korboee-callback.tmpl.html",[]).run(["$templateCache",function(a){a.put("src/ee-directive-modal/korboee-callback.tmpl.html","<!-- \nUse only callback mode.\nYou can use API registered on Global Object defined in your configuration \n-->\n\n")}]),angular.module("src/ee-directive-modal/korboee-entity.tmpl.html",[]).run(["$templateCache",function(a){a.put("src/ee-directive-modal/korboee-entity.tmpl.html",'<div class="container" id="korbo-ee-container" ng-if="renderElement()">\n    <div class="row">\n        <div class="input-group input-group-sm ee-input-container col-md-4">\n            <input class="form-control ee-input-elem-to-search"\n                    name="{{conf.tafonyName}}"\n                    id="{{conf.tafonyId}}"\n                    placeholder="Type in to search.."\n                    ng-keypress="keyPressHandle($event)"\n                    type="text"\n                    ng-model="$parent.elemToSearch"\n                    typeahead="entities.label for entities in autoCompleteSearch($viewValue)"\n                    typeahead-loading="$parent.loadingResults"\n                    typeahead-on-select="selectEntity($item)"\n                    autocomplete="off",\n                    typeahead-min-length="{{conf.labelMinLength}}"\n                    typeahead-wait-ms="{{conf.updateTime}}">\n                <i ng-show="showLoadingResults()" class="glyphicon glyphicon-refresh"></i>\n            <span class="input-group-btn">\n                <span class="ee-input-button btn btn-primary btn-sm" ng-click="open()" ng-show="showButton()">{{conf.buttonLabel}}</span>\n            </span>\n        </div> <!-- div ee-input-container -->\n    </div> <!-- div row -->\n    \n    <!-- input hidden -->\n    <input type="hidden" name="{{conf.nameInputHiddenUri}}" value="{{location}}" class="ee-uri-hidden"></input>\n    <input type="hidden" name="{{conf.nameInputHiddenLabel}}" value="{{label}}" class="ee-label-hidden"></input>\n    <!-- fine input hidden -->\n\n</div> <!-- div container -->')}]),angular.module("src/ee-directive-modal/korboee-error-config.tmpl.html",[]).run(["$templateCache",function(a){a.put("src/ee-directive-modal/korboee-error-config.tmpl.html",'<div class="container error-ee-config">\n    <div class="row container alert alert-danger error col-md-4 error-ee-globalobject" ng-show="errorType == \'globalObject\'">\n        Configuration Error. Object {{conf.globalObjectName}} existing. Please check your configuration!\n    </div>\n    <div class="row container alert alert-danger error col-md-4 error-ee-autocomplete" ng-show="errorType == \'autoComplete\'">\n        CONFIGURATION ERROR. <br> You can choise only one mode: useAutocompleteWithNew or useAutocompleteWithSearch. <br> Please check your configuration!\n    </div>\n</div>')}]),angular.module("src/ee-label/label.tmpl.html",[]).run(["$templateCache",function(a){a.put("src/ee-label/label.tmpl.html",'<div class="ee-label-contr" ng-controller="labelCtrl">\n    <div class="form-group">\n        <div class="input-group">\n            <span class="input-group-addon">{{ \'SEARCH\' | translate }}</span>\n            <input placeholder="{{\'PLACEHOLDER\' | translate:conf}}"\n                type="text"\n                ng-disabled="selectedTab === \'search\' && stateForm === \'searching\'"\n                class="form-control ee-modal-search-input"\n                ng-model="item"\n                ng-change="update()"\n                autocomplete="off"\n                />\n        </div> <!-- div input-group-->\n    </div> <!-- div form-group label -->\n    \n\n</div> <!-- div ee-label-contr -->')}]),angular.module("src/ee-modal/modal.tmpl.html",[]).run(["$templateCache",function(a){a.put("src/ee-modal/modal.tmpl.html",'<div id="ee-modal">\n    <div class="modal-header">\n        <h3>Edit Entity</h3>\n    </div> <!-- div modal-header -->\n\n    <div class="modal-body ee-container"\n        ng-class="{\'ee-loading\' : stateForm===\'loading\'}">\n        <form role="form" \n            name="EEnewEntityForm"\n            novalidate\n            class="new-ee-form-class"\n            ng-controller="FormController">\n        \n            <div class="error error-form alert alert-danger"ng-show="stateForm===\'error\' || stateForm === \'searchErr\' ">Il server non risponde</div>\n        \n            <!-- <div ng-include src="\'src/ee-label/label.tmpl.html\'"></div> -->\n        \n            <div class="error error-item-select alert alert-danger" ng-show="showItemError">Must select an item</div>\n        \n            <div class="error search-warning alert alert-warning" \n                ng-show="numSuccessWaiting > 0 && selectedTab === \'search\' && elemToSearch !== undefined &&  elemToSearch.length >= conf.labelMinLength && stateForm!==\'error\' && stateForm !== \'searchErr\'">Searching...</div>\n        \n            <div ng-include src="\'src/ee-content/content.tmpl.html\'"></div>\n    \n        </form>\n    </div> <!-- div modal-body -->\n\n    <div class="modal-footer ee-footer" ng-class="{\'ee-loading\' : stateForm === \'loading\'}">\n    \n        <button class="ee-loading-button btn btn-success" disabled ng-show="stateForm === \'loading\'">\n            <i class=""></i>\n            Saving .....\n        </button> <!-- button saving... -->\n    \n        <button class="btn btn-primary ee-save-btn" ng-click="submitEEForm(selectedTab)" ng-show="stateForm !== \'loading\' && (selectedTab === \'new\' || selectedTab === \'edit\')">\n            <i class="glyphicon glyphicon-floppy-disk"></i>\n            Save\n        </button> <!-- button save -->\n    \n        <button class="btn btn-primary ee-clear-form" ng-click="clearEEForm()" ng-show="stateForm !== \'loading\' && selectedTab === \'new\'">Clear</button> <!-- button cancel -->\n        <button class="btn btn-warning ee-cancel" ng-click="cancelEEForm()" ng-show="stateForm !== \'loading\'">Cancel</button> <!-- button cancel -->\n        <button ng-click="setUILanguage(\'it\')" translate="BUTTON_LANG_IT" ng-show="conf.useTranslation === true "></button>\n        <button ng-click="setUILanguage(\'en\')" translate="BUTTON_LANG_EN" ng-show="conf.useTranslation === true "></button>\n    </div> <!-- div modal-footer -->\n</div>')}]);var en_lang;en_lang={BUTTON_LANG_EN:"english",BUTTON_LANG_IT:"italian",SEARCH:"Search",PLACEHOLDER:" Type at least {{labelMinLength}} characters...",CONFIRM_DIALOG_MSG:"Are you sure you want to close the editor? You will lose any unsaved changes",CONFIRM_DIALOG_TITLE:"Are you sure?"};var it_lang;it_lang={BUTTON_LANG_EN:"Inglese",SEARCH:"Cerca",PLACEHOLDER:"Digita almeno {{labelMinLength}} caratteri...",CONFIRM_DIALOG_MSG:"Sei sicuro di voler chiudere l'editor? Perderai tutti i dati non salvati",CONFIRM_DIALOG_TITLE:"Sei sicuro?"};