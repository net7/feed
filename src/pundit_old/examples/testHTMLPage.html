<!DOCTYPE HTML>
<html dir="ltr" lang="en">
    <head>
        <title>SemTube: Semantic YouTube Video Annotation</title>

        <!-- Get Pundit + Dojo + conf, Init! -->
        <link rel="stylesheet" href="../css/pundit.css" type="text/css" media="screen" title="no title" charset="utf-8">
        <script src="../dojo/dojo/dojo.js.uncompressed.js" type="text/javascript" charset="utf-8"></script>
        <script src="pundit-conf.js" type="text/javascript" charset="utf-8"></script>
        <script>
            dojo.registerModulePath("pundit", "../../src"); 
            dojo.require('pundit.Init');
        </script>
        
        <link type="text/css" href="../src/semtube/css/semtube.css" rel="stylesheet"/>
        <link type="text/css" href="../src/semtube/css/positioning.css" rel="stylesheet"/>
        <link type="text/css" href="../src/semtube/css/smoothness/jquery-ui-1.8.11.custom.css" rel="stylesheet"/>

        <script type="text/javascript" src="../src/semtube/js/jquery-1.5.1.min.js"></script>
        <script type="text/javascript" src="../src/semtube/js/jquery-ui-1.8.11.custom.min.js"></script>

        <script type="text/javascript" src="../src/semtube/js/swfobject.js"></script>
        <script type="text/javascript" src="../src/semtube/js/DOMHelp.js"></script>
        <script type="text/javascript" src="../src/semtube/js/player.js"></script>

        <script type="text/javascript" src="../src/semtube/js/prova.js"></script>
        <script type="text/javascript" src="../src/semtube/js/stNamespaceHelper.js"></script>
        <script src="http://www.google.com/jsapi" type="text/javascript"></script> 

        <!-- canvas selector -->
        <script type="text/javascript" src="../src/semtube/js/jcanvas.js"></script>
        <script type="text/javascript" src="../src/semtube/js/syronex-colorpicker.js"></script>
        <link type="text/css" href="../src/semtube/css/canvasSelector.css" rel="stylesheet"/>
        <script type="text/javascript" src="../src/semtube/js/canvasSelector.js"></script>
        <link href="../src/semtube/css/syronex-colorpicker.css" rel="stylesheet" type="text/css"/>


        <style>
            span.easy_RDFa_bookmarklet a {
                font-size: 14px;
                font-family: "Candara", "Lucida Grande", "Trebuchet MS", sans-serif;
                background: #BFB1B1 url(http://metasound.dibet.univpm.it/swnweb/images/Annotate-icon.png) no-repeat 0px 50%;
                color: #2E2C2C;
                padding: 8px 8px 8px 30px;
                text-align:right;
                border: 1px #ccc solid;
                text-decoration: none;
                line-height: 30px;
            }
        </style>

    </head>
    <body >
        <div id="content" class="content">
            <div id="header" class="horizontalCenter" >
                <ul class="horizontal">
                    <li><img id="semtubeLogo" src="SemTubeLogo.png"/></li>
                    <li><input id="inputMediaUri" type="text" style="display: inline;width:350px" /><input id="btnLoad" type="button" style="display:inline;margin-left:10px" value="Load"/></li>
                    <li>
                        <span class="easy_RDFa_bookmarklet">
                            <a title="Bookmark this link" href="javascript:(function(){
						var videoId='';
                               var loc = 'http://metasound.dibet.univpm.it/asclient/semtube/examples/index.html';
						var a=document.location.href;
                               if(a.indexOf('www.youtube.com') !=-1){
							if(a.indexOf('?') !=-1){
							addrParts = a.split('?');
								queryPart = addrParts[1];
								var params = new Array();
								params =  queryPart.split('&amp;');
								for (i=0; i< params.length; i++)
								{
									var s= String(params[i]);
									if (s.substr(0,2) =='v='){
										videoId = s.substring(2);
									}

								}
									if (videoId != ''){
										window.location = loc + '?id=' + videoId;
									}else{
										window.location = loc;
									}

								}else{
									window.location = loc;
									}

							}else{
								window.location = loc;	
								}

						})()"> 
                                <!-- Se sono su una pagina non di youtube vado su semtube
					 Se sono in una pagina di youtube invece devo anche caricare il video
				     Bisogna mettere la funzionee che permette di prendere l'id del video e naviga nella nostra pagina
					 Per prenderlo splittare l'uri della pagina secondo il "?" 
					 Poi splittare la parte a destra secondo & per prendere i parametri
					 Questo vale partendo da youtube, potrebbe non valere in altri casi
					 Ad esempio non vale per l'uri di per l'embedd che Ã¨ del tipo: 
					 http://www.youtube.com/embed/8e6zIeCaxxU
					 E nemmeno per l'url di riferimento (credo sia quello stabile)
					 http://www.youtube.com/v/8e6zIeCaxxU
				 -->
                                <span>SemTube</span>
                            </a>
                        </span>
                    </li>
                </ul>




            </div>

            <div id="containerPlayer" class="bordClass">
                <div id="videoDiv" style="background:black;margin-left:3px" > 
				  You need Flash player 9+ and JavaScript enabled to view this video.
                </div>

                <div width="640" height="360">
                    <canvas id="canvas" width="640" height="360" style=" position:absolute; top:0px; left:0px; z-index: 12;"></canvas>
                    <canvas width="640" height="360" id="ghostcanvas" style="position:absolute; top:0px; left:0px; z-index: 10;"></canvas>
                    <canvas width="640" height="360" id="canvasAnnotation" style="position:absolute; top:0px; left:0px; z-index: 9;"></canvas>
                    <canvas id="gcanvas" width="640" height="360" style=" position:absolute; top:0px; left:0px; z-index: 11;"></canvas>
                </div>
            </div>
            <div style="margin-left:40px">
                <div id='progressBar' class="lateralBord" >
                    <img id="playerLoaded"  class="playerImage" src="../src/semtube/playerico/loaded.jpg"/>
                    <img id="playerCursor" class="playerImage" src="../src/semtube/playerico/cursore.jpg"/>
                </div>
                <div id='controlBar' class="bordClass" style="height:50px;">
                    <ul class="horizontal" style="margin-top:-5px;">
                        <li><div id="play"><img id="imgPlay" title="play/pause" src="../src/semtube/playerico/play.png"/></div></li>
                        <li><div id="annotate"><img id="imgAnnotate" title="Select Fragment" src="../src/semtube/playerico/videos.png"/></div></li>
                        <li><div id="selRegion"><img id="imgAnnotate" title="Select Fragment Region" src="../src/semtube/playerico/writing.png"/></div></li>
                        
                        <li><div id="saveMarker"><img id="imgAnnotate" title="Add Fragment to Items" src="../src/semtube/playerico/screenshot.png"/></div></li>
                        <li><div id="addComment"><img id="imgAnnotate" title="Add Textual Comment" src="../src/semtube/playerico/note2.png"/></div></li>
                        <li><div id="addTag"><img id="imgAnnotate" title="Add Tag" src="../src/semtube/playerico/tag.png"/></div></li>
                        <li><div id="videoCurrentTime">--:--</div></li>
                    </ul>
                </div>
            </div>
           
        </div>
    </body>
</html> 
