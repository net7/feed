js.loader={loader_status:{},check_interval:50,load_attempt_limit:150,loadScripts:function(a){var b,c=a.length;for(b=0;b<c;b+=1){a[b].name=a[b].name||a[b].file;this.loader_status[a[b].name]={load_attempts:0,placed_in_dom:false,script_loaded:false,interval:null};this.checkScriptDependencies(a[b]);}},loadScript:function(a){if(!a||this.loader_status[a.name].placed_in_dom){return;}var b,c=a.dom_location||document.getElementsByTagName("body")[0];b=document.createElement("script");b.src=a.path+a.file;if("onload" in document||"addEventListener" in window){b.onload=function(){js.loader.updateLoaderStatus(a);};}else{if("onreadystatechange" in document){b.onreadystatechange=function(){if(b.readyState==="loaded"||b.readyState==="complete"){js.loader.updateLoaderStatus(a);}};}}b.onerror=function(){js.loader.reportLoadError(a);};if(c.appendChild(b)){this.loader_status[a.name].placed_in_dom=true;}js.console.log("load : "+a.file+", "+a.path);},checkScriptDependencies:function(b){if(!b){return;}var c="",a,d=true;if(b.dependencies&&b.dependencies.length>0){for(c in b.dependencies){if(!this.loader_status[b.dependencies[c]]||!this.loader_status[b.dependencies[c]].script_loaded){this.loader_status[b.name].load_attempts+=1;d=false;if(this.load_attempt_limit<=this.loader_status[b.name].load_attempts){clearInterval(this.loader_status[b.name].interval);js.console.error("tried to load script : "+b.dependencies[c]+" "+this.load_attempt_limit+" times without success");break;}if(!this.loader_status[b.name].interval){a=setInterval(function(){js.loader.checkScriptDependencies(b);},this.check_interval);this.loader_status[b.name].interval=a;}break;}}}if(d){this.loadScript(b);}},updateLoaderStatus:function(a){if(!a){return;}if(this.loader_status[a.name].interval){clearInterval(this.loader_status[a.name].interval);this.loader_status[a.name].interval=null;}js.console.log("loaded : "+a.name);this.loader_status[a.name].script_loaded=true;if(a.callback){a.callback.call();}},reportLoadError:function(a){js.console.error("could not load : "+a.name+"\n"+a.path+a.file);}};